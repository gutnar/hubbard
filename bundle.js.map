{"version":3,"sources":["webpack:///webpack/bootstrap 6dbd9e635089fda0b137","webpack:///./src/gl.js","webpack:///./src/fs.glsl","webpack:///./src/vs.glsl","webpack:///./src/main.js"],"names":["canvas","document","getElementById","width","clientWidth","height","clientHeight","gl","getContext","alpha","alert","clearColor","viewport","window","addEventListener","createShader","type","source","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","console","log","getShaderInfoLog","deleteShader","createProgram","vertexShader","fragmentShader","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","scale","offset","presets","name","x","y","roots","iterations","fade","form","forms","settings","presetInput","preset","rootsContainer","forEach","index","innerHTML","e","setPreset","value","positionAttributeLocation","resolutionUniformLocation","offsetUniformLocation","scaleUniformLocation","rootsUniformLocation","activePresetIndex","updateForm","presetVertexShaderSource","presetFragmentShaderSource","replace","indexOf","length","root","inputIndex","buttonIndex","childNodes","element","parseInt","bind","splice","push","VERTEX_SHADER","FRAGMENT_SHADER","shaderProgram","getAttribLocation","getUniformLocation","useProgram","enableVertexAttribArray","uniform2f","uniform2fv","Float32Array","generatePositions","uniform1f","vertexAttribPointer","FLOAT","render","positionBuffer","createBuffer","points","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","drawArrays","POINTS","panning","panningAnchor","preventDefault","pageX","pageY","requestAnimationFrame","previousScale","deltaY"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6dbd9e635089fda0b137","// Get canvas\nexport const canvas = document.getElementById('canvas');\n\n// Canvas drawing buffer size\ncanvas.width = canvas.clientWidth;\ncanvas.height = canvas.clientHeight;\n\n// Initialize the GL context\nexport const gl = canvas.getContext('webgl', {alpha: false}) || canvas.getContext('experimental-webgl', {alpha: false});\n\n// If we don't have a GL context, give up now\nif (!gl) {\n    alert(\"Unable to initialize WebGL. Your browser may not support it.\");\n}\n\n// Only continue if WebGL is available and working\nif (gl) {\n    // Set clear color to black, fully opaque\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n\n    // Viewport\n    gl.viewport(0, 0, canvas.width, canvas.height);\n}\n\n// Resize window\nwindow.addEventListener('resize', () => {\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n    gl.viewport(0, 0, canvas.width, canvas.height);\n});\n\n// Shaders\nexport function createShader(gl, type, source) {\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n\n    if (gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        return shader;\n    }\n\n    console.log(gl.getShaderInfoLog(shader));\n    gl.deleteShader(shader);\n}\n\n// Create the shader program\nexport function createProgram(gl, vertexShader, fragmentShader) {\n    const program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n\n    if (gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        return program;\n    }\n\n    console.log(gl.getProgramInfoLog(program));\n    gl.deleteProgram(program);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/gl.js","module.exports = \"precision highp float;\\nuniform vec2 u_roots[ROOTS];\\nvarying vec2 v_root;\\n\\nfloat sq(float value) {\\n    return value*value;\\n}\\n\\nfloat hue2rgb(float p, float q, float t) {\\n    if (t < 0.0) t += 1.0;\\n    if (t > 1.0) t -= 1.0;\\n    if (t < 1.0/6.0) return p + (q - p) * 6.0 * t;\\n    if (t < 1.0/2.0) return q;\\n    if (t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0;\\n    return p;\\n}\\n\\nvec3 hsv2rgb(float h, float s, float v) {\\n    vec3 c = vec3(0.0, 0.0, 0.0);\\n\\n    if (s == 0.0) {\\n        c[0] = c[1] = c[2] = v;\\n    } else {\\n        float q = (v < 0.5) ? (v * (1.0 + s)) : (v + s - v * s);\\n        float p = 2.0 * v - q;\\n\\n        c[0] = hue2rgb(p, q, h + 1.0/3.0);\\n        c[1] = hue2rgb(p, q, h);\\n        c[2] = hue2rgb(p, q, h - 1.0/3.0);\\n    }\\n\\n    return c;\\n}\\n\\nvoid main() {\\n    // Find closest root\\n    int closest = -1;\\n    float closestDist;\\n\\n    for (int i = 0; i < ROOTS; ++i) {\\n        float dist = sq(v_root[0] - u_roots[i][0]) + sq(v_root[1] - u_roots[i][1]);\\n\\n        if (closest == -1 || dist < closestDist) {\\n            closest = i;\\n            closestDist = dist;\\n        }\\n    }\\n\\n    // Generate hue based on closest root\\n    float hue = 1.0/ROOTS.0 * float(closest + 1);\\n\\n    // Generate lighting based on distance to closest root\\n    float lighting = 0.5 - sqrt(closestDist)/FADE/2.0;\\n\\n    // Discard if not close enough\\n    if (lighting <= 0.0) {\\n        discard;\\n    }\\n\\n    gl_FragColor = vec4(hsv2rgb(hue, 1.0, lighting), 1.0);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/fs.glsl\n// module id = 1\n// module chunks = 0","module.exports = \"precision highp float;\\nattribute vec2 a_position;\\nuniform vec2 u_resolution;\\nuniform vec2 u_offset;\\nuniform float u_scale;\\nvarying vec2 v_root;\\n\\nfloat sq(float value) {\\n    return value*value;\\n}\\n\\nfloat cb(float value) {\\n    return value*value*value;\\n}\\n\\nvoid main() {\\n    // Find point location in clip space\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;\\n\\n    // Set origin to top-left\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\\n\\n    // Point size\\n    gl_PointSize = 1.0;\\n\\n    // Convert pixel location to point\\n    vec2 point = (a_position - u_offset) / u_scale;\\n\\n    // Iterate\\n    v_root = point;\\n\\n    for (int i = 0; i < ITERATIONS; ++i) {\\n        v_root[0] = X_ITERATION;\\n        v_root[1] = Y_ITERATION;\\n    }\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/vs.glsl\n// module id = 2\n// module chunks = 0","import {canvas, gl, createShader, createProgram} from './gl'\n\n// Shader source\nimport vertexShaderSource from './vs.glsl'\nimport fragmentShaderSource from './fs.glsl'\n\n// Initial scale and offset\nlet scale = canvas.width/5;\nconst offset = [canvas.width/2, canvas.height/2];\n\n// Presets\nconst presets = [\n    {\n        name: 'z^4 - 1 = 0',\n        x: 'x + 0.25*x*(sq(x) - 3.0*sq(y))/cb(sq(x) + sq(y))',\n        y: 'y + 0.25*y*(sq(y) - 3.0*sq(x))/cb(sq(x) + sq(y))',\n        roots: [[1, 0], [-1, 0], [0, 1], [0, -1]],\n        iterations: 20,\n        fade: 5.0\n    },\n    {\n        name: 'Test',\n        x: 'x + 0.25*sq(x)*(sq(x) - 3.0*sq(y))/cb(sq(x) + sq(y))',\n        y: 'y + 0.25*sq(y)*(sq(y) - 3.0*sq(x))/cb(sq(x) + sq(y))',\n        roots: [[1, 0], [-1, 0], [0, 1], [0, -1]],\n        iterations: 10,\n        fade: 5.0\n    }\n];\n\n// Inputs\nconst form = document.forms.settings;\nconst presetInput = document.forms.settings.preset;\nconst rootsContainer = document.getElementById('roots');\n\npresets.forEach((preset, index) => {\n    presetInput.innerHTML += '<option value=\"' + index + '\">' + preset.name + '</option>';\n});\n\n// Switching preset\npresetInput.addEventListener('change', e => {\n    setPreset(presetInput.value);\n});\n\n// Attribute locations\nlet positionAttributeLocation, resolutionUniformLocation, offsetUniformLocation, scaleUniformLocation, rootsUniformLocation;\n\n// Re-compile shader\nlet activePresetIndex;\n\nfunction setPreset(index, updateForm=true) {\n    // Update active preset\n    activePresetIndex = index;\n\n    // Get preset\n    const preset = presets[index];\n\n    // Create source\n    let presetVertexShaderSource = vertexShaderSource;\n    let presetFragmentShaderSource = fragmentShaderSource;\n\n    presetVertexShaderSource = presetVertexShaderSource\n        .replace(/ITERATIONS/g, preset.iterations + '');\n\n    presetVertexShaderSource = presetVertexShaderSource\n        .replace(/X_ITERATION/g, preset.x.replace(/x/g, 'v_root[0]').replace(/y/g, 'v_root[1]'));\n\n    presetVertexShaderSource = presetVertexShaderSource\n        .replace(/Y_ITERATION/g, preset.y.replace(/x/g, 'v_root[0]').replace(/y/g, 'v_root[1]'));\n\n    presetFragmentShaderSource = presetFragmentShaderSource\n        .replace(/FADE/g, (preset.fade + '').indexOf('.') === -1 ? preset.fade + '.0' : preset.fade + '');\n\n    presetFragmentShaderSource = presetFragmentShaderSource\n        .replace(/ROOTS/g, preset.roots.length + '');\n\n    // Update form\n    if (updateForm) {\n        form.x.value = preset.x;\n        form.y.value = preset.y;\n        form.iterations.value = preset.iterations;\n        form.fade.value = preset.fade;\n\n        rootsContainer.innerHTML = '';\n\n        preset.roots.forEach(root => {\n            rootsContainer.innerHTML += '<input type=\"number\" value=\"' + root[0] + '\" placeholder=\"Real part\"> + ' +\n                '<input type=\"number\" value=\"' + root[1] + '\" placeholder=\"Imaginary part\"> i' +\n                ' <button type=\"button\">Remove</button><br>';\n        });\n\n        rootsContainer.innerHTML += '<button type=\"button\">Add root</button>';\n\n        // Editing roots\n        let inputIndex = 0;\n        let buttonIndex = 0;\n\n        rootsContainer.childNodes.forEach((element, index) => {\n            if (element.type === 'number') {\n                element.addEventListener('input', (function (index) {\n                    preset.roots[parseInt(index/2)][index%2] = this.value;\n                    setPreset(activePresetIndex, false);\n                }).bind(element, inputIndex++));\n            } else if (element.type === 'button' && element.innerHTML === 'Remove') {\n                element.addEventListener('click', (function (index) {\n                    preset.roots.splice(index, 1);\n                    setPreset(activePresetIndex);\n                }).bind(element, buttonIndex++));\n            } else if (element.type === 'button' && element.innerHTML === 'Add root') {\n                element.addEventListener('click', () => {\n                    preset.roots.push([0, 0]);\n                    setPreset(activePresetIndex);\n                });\n            }\n        });\n    }\n\n    // Create shaders\n    const vertexShader = createShader(gl, gl.VERTEX_SHADER, presetVertexShaderSource);\n    const fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, presetFragmentShaderSource);\n    const shaderProgram = createProgram(gl, vertexShader, fragmentShader);\n\n    // Attribute locations\n    positionAttributeLocation = gl.getAttribLocation(shaderProgram, 'a_position');\n    resolutionUniformLocation = gl.getUniformLocation(shaderProgram, 'u_resolution');\n    offsetUniformLocation = gl.getUniformLocation(shaderProgram, 'u_offset');\n    scaleUniformLocation = gl.getUniformLocation(shaderProgram, 'u_scale');\n    rootsUniformLocation = gl.getUniformLocation(shaderProgram, 'u_roots');\n\n    // Use shader\n    gl.useProgram(shaderProgram);\n\n    // Enable position attribute\n    gl.enableVertexAttribArray(positionAttributeLocation);\n\n    // Set screen resolution\n    gl.uniform2f(resolutionUniformLocation, canvas.width, canvas.height);\n\n    // Get roots\n    const roots = [];\n\n    preset.roots.forEach(root => {\n        roots.push(root[0]);\n        roots.push(root[1]);\n    });\n\n    gl.uniform2fv(rootsUniformLocation, new Float32Array(roots));\n\n    generatePositions();\n\n    // Set offset and scale\n    if (updateForm) {\n        scale = canvas.width / 5;\n        offset[0] = canvas.width / 2;\n        offset[1] = canvas.height / 2;\n    }\n\n    gl.uniform2f(offsetUniformLocation, offset[0], offset[1]);\n    gl.uniform1f(scaleUniformLocation, scale);\n\n    // Bind the position buffer\n    gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // Render\n    render();\n}\n\n// Generate position buffer\nconst positionBuffer = gl.createBuffer();\n\n// Create positions\nfunction generatePositions() {\n    const points = [];\n\n    for (let x = 0; x < canvas.width; ++x) {\n        for (let y = 0; y < canvas.height; ++y) {\n            points.push(x);\n            points.push(y);\n        }\n    }\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(points), gl.STATIC_DRAW);\n}\n\n// Render\nfunction render() {\n    gl.drawArrays(gl.POINTS, 0, canvas.width*canvas.height);\n}\n\n// Resize window\nwindow.addEventListener('resize', () => {\n    gl.uniform2f(resolutionUniformLocation, canvas.width, canvas.height);\n\n    generatePositions();\n    render();\n});\n\n// Pan around\nlet panning = false;\nconst panningAnchor = [];\n\ncanvas.addEventListener('mousedown', e => {\n    e.preventDefault();\n\n    panning = true;\n    panningAnchor[0] = offset[0] - e.pageX;\n    panningAnchor[1] = offset[1] - e.pageY;\n});\n\ndocument.addEventListener('mousemove', e => {\n    if (panning) {\n        offset[0] = panningAnchor[0] + e.pageX;\n        offset[1] = panningAnchor[1] + e.pageY;\n\n        gl.uniform2f(offsetUniformLocation, offset[0], offset[1]);\n\n        requestAnimationFrame(render);\n    }\n});\n\ndocument.addEventListener('mouseup', e => {\n    panning = false;\n});\n\n// Change scale\ncanvas.addEventListener('wheel', e => {\n    e.preventDefault();\n\n    const previousScale = scale;\n\n    scale -= e.deltaY/10;\n\n    if (scale < 1) {\n        scale = 1;\n    }\n\n    //offset[0] *= scale/previousScale;\n    //offset[1] *= scale/previousScale;\n\n    gl.uniform1f(scaleUniformLocation, scale);\n    gl.uniform2f(offsetUniformLocation, offset[0], offset[1]);\n\n    requestAnimationFrame(render);\n});\n\n// Change x iteration\nform.x.addEventListener('input', () => {\n    const preset = presets[activePresetIndex];\n    preset.x = form.x.value;\n    setPreset(activePresetIndex, false);\n});\n\n// Change y iteration\nform.y.addEventListener('input', () => {\n    const preset = presets[activePresetIndex];\n    preset.y = form.y.value;\n    setPreset(activePresetIndex, false);\n});\n\n// Change iterations\nform.iterations.addEventListener('input', () => {\n    const preset = presets[activePresetIndex];\n    preset.iterations = form.iterations.value;\n    setPreset(activePresetIndex, false);\n});\n\n// Change fade\nform.fade.addEventListener('input', () => {\n    const preset = presets[activePresetIndex];\n    preset.fade = form.fade.value;\n    setPreset(activePresetIndex, false);\n});\n\n// Activate default preset\nsetPreset(0);\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}